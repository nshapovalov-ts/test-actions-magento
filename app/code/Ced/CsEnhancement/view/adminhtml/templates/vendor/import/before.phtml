<?php
/**
 * CedCommerce
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the End User License Agreement (EULA)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * https://cedcommerce.com/license-agreement.txt
 *
 * @category  Ced
 * @package   Ced_CsEnhancement
 * @author    CedCommerce Core Team <connect@cedcommerce.com >
 * @copyright Copyright CedCommerce (https://cedcommerce.com/)
 * @license      https://cedcommerce.com/license-agreement.txt
 */
?>

<?php
/** @var $block \Ced\CsEnhancement\Block\Adminhtml\Vendor\Import\Edit\Before */

$registrationAttributes = $block->getRegistrationAttributesSet();
?>
<script>
    require([
        'Ced_CsEnhancement/js/import/vendor'
    ], function(VendorImport) {
        vendorImport = VendorImport;
        vendorImport.init({
            urlExportCsv: '<?= /* @noEscape */ $block->getExportCsvUrl(); ?>',
            urlUpload: '<?= /* @noEscape */ $block->getFileUploadUrl(); ?>',
            urlDelete: '<?= /* @noEscape */ $block->getFileDeleteUrl(); ?>',
            urlValidate: '<?= /* @noEscape */ $block->getValidateUrl(); ?>',
            urlImport: '<?= /* @noEscape */ $block->getImportUrl(); ?>',
            urlRedirect: '<?= /* @noEscape */ $block->getRedirectUrl(); ?>',
            maxFileSize: <?= /* @noEscape */ $block->getMaxSize(); ?>,
            registrationAttributes: <?= /* @noEscape */ $block->jsonEncodeData($registrationAttributes); ?>,
            vendorsData: <?= /* @noEscape */ $block->listVendors(!empty($registrationAttributes['unique']) ? $registrationAttributes['unique'] : []); ?>,
        });
    });
</script>
